<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script type="module" src="./script.js" defer></script>
    <link rel="stylesheet" href="./style.css" />
    <link href="./src/favicon.ico" rel="icon" type="image/x-icon" />
    <title>Crew positions</title>
  </head> 
  <body>
    <section id="fetchTable">
      <div id="fetchMessage" class="hidden">
        <div>&#9888; Data was not copied properly from portal</div>
        <input id="dataInput" type="text" placeholder="Paste data here" />
      </div>
      <button id="buttonStart" onclick="showTrips()" class="control-button-blue">Show trips</button>
    </section>
    <section id="tripsTable" class="hidden">
      <div>Select trip:</div>
      <table>
        <thead>
          <tr>
            <th id="flightNumber" class="invisible tableTab"></th>
            <th id="flightDate" class="invisible tableTab"></th>
            <th id="flightLegs" class="invisible tableTab"></th>
            <th id="sectors" class="tableTab">Duties</th>
            <!-- <th id="brekas">ULR<br/>Breaks</th>  -->
            <th id="breaks" class="tableTab">Breaks</th>
            <th id="aircraftRegistration" class="invisible tableTab"></th>
            <th id="aircraftDescription" class="invisible tableTab"></th>
            <!-- <th id="aircraftAge">In service<br/>since</th> -->
            <th id="aircraftAge" class="tableTab">Year</th>
            <th id="crc" class="tableTab">CRC</th>
            <th id="crew" class="tableTab">Crew</th>
            <th id="VCM" class="tableTab">VCM</th>
            <th id="controls" class="invisible tableTab"></th>
          </tr>
        </thead>
        <tbody id="cardContainer"></tbody>
      </table>
    </section>

    <section id="settings-wrapper" class="hidden">
      <button class="settings" onclick="showSettings(event)"></button>
      <settings id="settings" class="hidden">
        <div>Settings</div>
        <table id="settings-output">
        </table>
      </settings>
    </section>

    <section id="crewTable" class="hidden">
      <div class="UIhood" id="crewControls">
        <button onclick="back()" class="control-button-blue">Back to trips</button>
        <button id="buttonRestart" onclick="restart(event)" class="control-button-blue">Generate again</button>
        <button id="buttonCopy" onclick="copyTable()" class="control-button-blue">Copy table</button>
        <button id="buttonFlags" onclick="hideFlags()" class="control-button-blue">Hide/show flags</button>
        <button id="buttonHide" onclick="hideGUI()" class="control-button-blue">Hide controls</button>
        <button id="buttonShowHiddenCells" onclick="showHiddenCells()" class="hidden control-button-blue">Show hidden columns</button>
        <button id="showPositions" onclick="showPositions()" class="control-button-blue">Show positions</button>
      </div>
      <section class="horizontal-flex">
        <div id="crewOutput"></div>
        <div id="positions" class="UIhood hidden">
          <div id="positionsOutput"></div>
          <div>* Do not leave retail positions empty. <br>** Make sure you know what you're doing before manually adjusting positions as it may break entire algorithm! </div>
          <div>
              <button id="apply" class="control-button-blue">Apply</button>
              <button id="close" onclick="hidePositions()" class="control-button-blue">Close</button> 
          </div>
        </div>
      </section>
    </section>
    <section id="errorTable" class="UIhood hidden">
      <div id="errorOutput"></div>
      <button onclick="hideErrors()" class="control-button-blue">Ok Close</button>
    </section>
    <section id="flightInfo" class="hidden">
      <div class="horizontal-flex">
        <div id="upgOutput"></div>
        <div>
          <div id="dfOutput"></div>
          <div id="stationInfoOutput"></div>
        </div>
        <div>
          <div id="langOutput"></div>
          <div id="ramadanOutput"></div>
        </div>
    </div>
    </section>
    <div class="UIhood hidden" id="keyBind">
      Press <span class="keyBind">Ctrl &#8963;</span><span class="keyBind">Shift &#8679;</span><span class="keyBind">H</span> to <b>h</b>ide/show controls
    </div>
  </body>
  <dialog>
    <section>
      <div class="smaller">⚠️ When W crew manually selected <br> the order of crew in table will be different from VR1!</div>
      <div id="w_manual_alert">Select your W crew (maximum 2):</div>
      <ul id="crewList"></ul>
    </section>
    <section>
      <button id="dialogClose">Cancel</button>
      <button id="dialogSubmit">OK</button>
    </section>
  </dialog>
</html>
